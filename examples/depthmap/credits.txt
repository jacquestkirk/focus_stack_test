Stolen from https://github.com/PetteriAimonen/focus-stack/tree/master/examples